<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detail Product</title>
    <link rel="stylesheet" href="../output.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <header class="sticky top-0 z-50 bg-red-100 shadow-md">
  <nav class="flex justify-between items-center py-4 px-4 md:px-7 lg:px-52">
    <h1 class="text-primary-color text-2xl font-semibold">Sakura</h1>

    <!-- Desktop Menu -->
    <ul class="hidden md:flex gap-8 text-description-color font-medium">
      <li>
        <a
          href="../index.html"
          class="nav-list home hover:text-primary-color transition-colors duration-200"
          >Home</a
        >
      </li>
      <li>
        <a
          href="./product-page.html"
          class="nav-list products hover:text-primary-color transition-colors duration-200"
          >Products</a
        >
      </li>
      <li>
        <a
          href="#"
          class="nav-list about hover:text-primary-color transition-colors duration-200"
          >About</a
        >
      </li>
    </ul>

    <!-- Cart & Mobile Menu Toggle -->
    <div class="flex items-center gap-6">
      <!-- Cart Icon -->
      <a href="./cart-page.html">
        <div class="relative">
          <i class="fa-solid fa-cart-shopping text-gray-700 text-xl"></i>
        
            <span
              id="cart"
              class="absolute -top-2 -right-3 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold"
              >0</span
            >
        
        </div>
      </a>

      <!-- Mobile Menu Button -->
      <button
        id="menu-toggle"
        class="md:hidden text-gray-700 focus:outline-none"
        aria-label="Toggle menu"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          ></path>
        </svg>
      </button>
    </div>
  </nav>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="md:hidden text-center bg-description-color text-white hidden flex-col px-6 py-4 space-y-4"
  >
    <a
      href="../index.html"
      class="block hover:text-primary-color nav-list font-semibold"
      >Home</a
    >
    <a href="#" class="block hover:text-primary-color nav-list font-semibold"
      >About</a
    >
    <a
      href="./product-page.html"
      class="block hover:text-primary-color nav-list font-semibold"
      >Products</a
    >
    <a href="#" class="block hover:text-primary-color nav-list font-semibold"
      >Contact</a
    >
  </div>
</header>

    <main>
      <section class="mx-4 md:mx-7 lg:mx-52 py-4">
        <div
          class="grid col-span-1 md:grid-cols-2 justify-center items-start gap-5"
        >
          <div
            class="image-cont grid grid-cols-4 justify-center items-center justify-items-center p-5 gap-3"
          >
            <div class="col-span-4 w-full flex justify-center border">
              <img
                id="main-image"
                class="w-[70%] h-80 object-scale-down"
                src=""
                alt=""
              />
            </div>
            <div
              id="inner-image"
              class="grid grid-cols-4 justify-between items-center gap-2 col-span-4 w-full"
            >
              <img
                id="image-1"
                class="each-inner border w-full h-[117px] object-scale-down overflow-hidden"
                src=""
                alt=""
              />
              <img
                id="image-2"
                class="each-inner border w-full h-[117px] object-scale-down overflow-hidden"
                src=""
                alt=""
              />
              <img
                id="image-3"
                class="each-inner border w-full h-[117px] object-scale-down overflow-hidden"
                src=""
                alt=""
              />
              <img
                id="image-4"
                class="each-inner border w-full h-[117px] object-scale-down overflow-hidden"
                src=""
                alt=""
              />
            </div>
          </div>
          <div class="p-5">
            <p id="title" class="text-3xl font-bold line-clamp-2">
              Long Sleeve Overshirt, Khaki, 6
            </p>
            <div class="flex justify-between items-center my-6">
              <span id="price" class="text-secondary-color font-bold"
                >3424</span
              >
              <div>
                <span id="sold" class="text-description-color mr-4"></span>
                <i class="fa-solid fa-star" style="color: #ffd43b"></i>
                <span id="rate" class="font-bold">3.4 star</span>
              </div>
            </div>
            <hr />
            <div class="my-5">
              <p class="text-xl font-bold">Description :</p>
              <p
                id="description"
                class="text-description-color line-clamp-2"
              ></p>
            </div>
            <div class="flex justify-between">
              <button
                class="add-to-cart-btn px-7 rounded-full py-2 text-white bg-primary-color font-bold hover:opacity-70 duration-200 ease-in"
              >
                Add To Cart
              </button>
              <button
                class="add-to-cart-btn px-4 rounded-full py-2 text-primary-color border border-primary-color bg-white hover:opacity-80 duration-200 ease-in"
              >
                Checkout Now
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>
  </body>
  <script src="../js/navbar.js"></script>
  <script type="module">
    import Products from "../js/Products.js";
    import AddToCart from "../js/AddToCart.js"
    const urlParams = new URLSearchParams(window.location.search);
    const productId = parseInt(urlParams.get("id"));

    const pro = [...Products()];
    const product = pro.find((item) => item.id === productId);
    if (product) {
      const innerImage = document
        .getElementById("inner-image")
        .querySelectorAll(".each-inner");
      const mainImage = document.getElementById("main-image");

      innerImage.forEach((img) => {
        img.addEventListener("click", () => {
          let srcTemp = mainImage.src;
          mainImage.src = img.src;
          img.src = srcTemp;
        });
      });
      mainImage.src = product.image;
      document.getElementById("image-1").src = product.secondimage[0];
      document.getElementById("image-2").src = product.secondimage[1];
      document.getElementById("image-3").src = product.secondimage[2];
      document.getElementById("image-4").src = product.secondimage[3];
      document.getElementById("title").innerText = product.title;
      document.getElementById("price").innerText = "$ " + product.price;
      document.getElementById("description").innerText = product.description;
      document.getElementById("rate").innerText = product.rating.rate;
      document.getElementById("sold").innerText =
        product.rating.count + " Sold";
    }
    console.log(product.id)
    AddToCart(product)
  </script>
</html>
